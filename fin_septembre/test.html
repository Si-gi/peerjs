<html>
<p>This example shows you the contents of the selected part of your display.
    Click the Start Capture button to begin.</p>
    
    <p><button id="start">Start Capture</button>&nbsp;<button id="stop">Stop Capture</button></p>
    
    <video id="video" autoplay></video>
    <br>
    
    <strong>Log:</strong>
    <br>
    <pre id="log"></pre>
    
    <script>
        const videoElem = document.getElementById("video");
    const logElem = document.getElementById("log");
    const startElem = document.getElementById("start");
    const stopElem = document.getElementById("stop");
    
    // Options for getDisplayMedia()
    
    var displayMediaOptions = {
      video: {
        cursor: "always"
      },
      audio: false
    };
    
    // Set event listeners for the start and stop buttons
    startElem.addEventListener("click", function(evt) {
      startCapture();
    }, false);

    
    async function startCapture() {
      logElem.innerHTML = "";
    
      try {
        videoElem.srcObject = await navigator.mediaDevices.getDisplayMedia(displayMediaOptions);
    
      } catch(err) {
        console.error("Error: " + err);
      }
    }    
    </script>
    <style>
        #video {
      border: 1px solid #999;
      width: 98%;
      max-width: 860px;
    }
    
    .error {
      color: red;
    }
    
    .warn {
      color: orange;
    }
    
    .info {
      color: darkgreen;
    }
    </style>
</html>